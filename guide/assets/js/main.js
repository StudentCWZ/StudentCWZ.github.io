"use strict";!function(e){var i,s,o,t,l=e(window),a=e("body"),n=e("#wrapper"),r=e("#header"),c=e("#footer"),h=e("#main"),d=h.children("article"),u=(breakpoints({xlarge:["1281px","1680px"],large:["981px","1280px"],medium:["737px","980px"],small:["481px","736px"],xsmall:["361px","480px"],xxsmall:[null,"360px"]}),l.on("load",function(){window.setTimeout(function(){a.removeClass("is-preload")},100)}),"ie"==browser.name&&l.on("resize.flexbox-fix",function(){clearTimeout(i),i=setTimeout(function(){n.prop("scrollHeight")>l.height()?n.css("height","auto"):n.css("height","100vh")},250)}).triggerHandler("resize.flexbox-fix"),r.children("nav")),f=u.find("li"),v=(f.length%2==0&&(u.addClass("use-middle"),f.eq(f.length/2).addClass("is-middle")),325),p=!1;h._show=function(i,e){var s,o=d.filter("#"+i);if(0!=o.length){if(p||void 0!==e&&!0===e)return a.addClass("is-switching"),a.addClass("is-article-visible"),d.removeClass("active"),r.hide(),c.hide(),h.show(),o.show(),o.addClass("active"),p=!1,void setTimeout(function(){a.removeClass("is-switching")},e?1e3:0);p=!0,a.hasClass("is-article-visible")?((s=d.filter(".active")).removeClass("active"),setTimeout(function(){s.hide(),o.show(),setTimeout(function(){o.addClass("active"),l.scrollTop(0).triggerHandler("resize.flexbox-fix"),setTimeout(function(){p=!1},v)},25)},v)):(a.addClass("is-article-visible"),setTimeout(function(){r.hide(),c.hide(),h.show(),o.show(),setTimeout(function(){o.addClass("active"),l.scrollTop(0).triggerHandler("resize.flexbox-fix"),setTimeout(function(){p=!1},v)},25)},v))}},h._hide=function(i){var e=d.filter(".active");if(a.hasClass("is-article-visible")){if(void 0!==i&&!0===i&&history.pushState(null,null,"#"),p)return a.addClass("is-switching"),e.removeClass("active"),e.hide(),h.hide(),c.show(),r.show(),a.removeClass("is-article-visible"),p=!1,a.removeClass("is-switching"),void l.scrollTop(0).triggerHandler("resize.flexbox-fix");p=!0,e.removeClass("active"),setTimeout(function(){e.hide(),h.hide(),c.show(),r.show(),setTimeout(function(){a.removeClass("is-article-visible"),l.scrollTop(0).triggerHandler("resize.flexbox-fix"),setTimeout(function(){p=!1},v)},25)},v)}},d.each(function(){var i=e(this);e('<div class="close">Close</div>').appendTo(i).on("click",function(){location.hash=""}),i.on("click",function(i){i.stopPropagation()})}),a.on("click",function(i){a.hasClass("is-article-visible")&&h._hide(!0)}),l.on("keyup",function(i){27===i.keyCode&&a.hasClass("is-article-visible")&&h._hide(!0)}),l.on("hashchange",function(i){""==location.hash||"#"==location.hash?(i.preventDefault(),i.stopPropagation(),h._hide()):0<d.filter(location.hash).length&&(i.preventDefault(),i.stopPropagation(),h._show(location.hash.substr(1)))}),"scrollRestoration"in history?history.scrollRestoration="manual":(o=s=0,t=e("html,body"),l.on("scroll",function(){s=o,o=t.scrollTop()}).on("hashchange",function(){l.scrollTop(s)})),h.hide(),d.hide(),""!=location.hash&&"#"!=location.hash&&l.on("load",function(){h._show(location.hash.substr(1),!0)})}(jQuery);